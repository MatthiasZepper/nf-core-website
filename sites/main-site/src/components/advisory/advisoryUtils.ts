// Combined dictionary for all advisory classes (types and severities)
export const advisory_classes = {
    // Advisory types
    known_regression: "dark",
    incompatibility: "warning",
    security: "danger",
    performance: "success",
    data_corruption: "primary",
    scientific_advice: "info",
    other: "secondary",
    // Severity levels
    low: "primary",
    medium: "warning",
    high: "danger",
    critical: "danger",
} as const;

// Combined dictionary for all advisory icons (types and severities)
export const advisory_icons = {
    // Advisory types
    known_regression: "fa-solid fa-bug",
    incompatibility: "fa-solid fa-exclamation-triangle",
    security: "fa-solid fa-shield-alt",
    performance: "fa-solid fa-tachometer-alt",
    data_corruption: "fa-solid fa-database",
    scientific_advice: "fa-solid fa-flask",
    other: "fa-solid fa-info-circle",
    // Severity levels
    low: "fa-solid fa-arrow-down",
    medium: "fa-solid fa-minus",
    high: "fa-solid fa-arrow-up",
    critical: "fa-solid fa-exclamation-circle",
    // Categories
    pipelines: "fa-solid fa-project-diagram",
    modules: "fa-solid fa-cube",
    subworkflows: "fa-solid fa-sitemap",
    configuration: "fa-solid fa-cogs",
} as const;

// Only include actual advisory types, not severity levels
const advisory_types = [
    "known_regression",
    "incompatibility",
    "security",
    "performance",
    "data_corruption",
    "scientific_advice",
    "other",
] as const;

// Custom SVG icons
const customIcons = {
    nextflow: `<svg fill="currentColor" width="1em" height="1em" viewBox="0 0 251 251" xmlns="http://www.w3.org/2000/svg">
        <path d="M0 47.0195C39.45 49.6394 71.06 81.3272 73.54 120.815H119.61C117.05 55.8589 64.93 3.64245 0 0.942627V47.0195Z" />
        <path d="M73.8 131.324C71.18 170.771 39.49 202.379 0 204.859V250.926C64.96 248.366 117.18 196.249 119.88 131.324H73.8Z" />
        <path d="M176.201 120.545C178.821 81.0972 210.511 49.4894 250.001 47.0095V0.942627C185.041 3.50245 132.821 55.619 130.121 120.545H176.201Z" />
        <path d="M250.001 204.849C210.551 202.229 178.941 170.542 176.461 131.054H130.391C132.951 196.01 185.071 248.226 250.001 250.926V204.849Z" />
        </svg>`,
    nfcore: `<svg width="1em" height="1em" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" fill="currentColor">
        <path d="M61.159 129.028s.142-3.491.41-6.453c.269-2.961.727-7.761 1.332-11.297s1.26-6.677 2.228-9.899c.97-3.221 2.459-7.002 3.564-9.384 1.106-2.382 1.626-3.245 2.772-5.003 1.146-1.757 2.999-4.088 4.156-5.467 1.158-1.38.957-1.407 2.673-2.89s5.305-3.99 7.976-5.47c2.671-1.478 4.936-2.42 7.93-3.446s6.088-1.828 10.02-2.56c3.934-.734 9.461-1.284 13.565-1.614s8.439-.376 11.034-.465 4.537-.123 4.537-.123-.085-2.446.108-5.621c.192-3.175.684-9.44 1.37-13.392a78.5 78.5 0 0 1 2.538-10.298c.908-2.866 1.633-4.745 2.7-6.921a42.3 42.3 0 0 1 3.655-6.104c1.387-1.934 2.728-3.643 4.644-5.46 1.916-1.815 4.497-3.837 6.895-5.257s4.856-2.444 7.355-3.265c2.498-.82 5.716-1.384 7.55-1.666 1.832-.281 1.936-.234 3.383-.298s3.464-.095 5.297 0c1.833.093 4.127.342 5.685.584s2.303.395 3.663.763c1.359.369 3.533.975 4.463 1.5s.962.549 1.296 1.1c.334.552.542 1.477.48 2.117-.06.64-.289.894-.678 1.543-.388.648-.83 1.31-1.761 2.241-.932.932-2.239 1.995-3.975 3.125s-4.963 2.745-6.513 3.454-1.636.927-2.66 1.035-2.608-.299-3.283-.532c-.675-.232-.498-.228-.841-.462s-.735-.502-1.178-.981c-.443-.48-1.07-1.428-1.376-1.948-.307-.52-.33-.636-.538-1.111-.207-.475-.213-1.351-.684-1.747s-.916-.256-1.781-.363c-.866-.108-2.116-.222-3.413-.157s-2.814.207-4.331.637a21 21 0 0 0-4.67 2.01c-1.41.835-2.405 1.598-3.744 2.924s-3.147 3.704-4.087 5.127-1.026 1.657-1.744 3.234c-.717 1.578-1.66 3.876-2.362 6.294s-1.392 6.036-1.718 8.205c-.325 2.169-.349 2.825-.436 4.755s-.075 4.98.008 6.816c.083 1.837.25 3.08.376 4.2.125 1.122.338 2.531.338 2.531l1.265-.113s4.746-.701 7.279-1.002 5.303-.666 7.915-.794c2.611-.129 4.564-.09 7.733.012 3.17.103 7.485.172 11.272.716s7.725 1.238 11.374 2.57c3.649 1.33 7.347 3.351 10.34 5.351 2.991 2 5.416 4.085 7.605 6.418s3.92 4.785 5.497 7.43 2.954 5.843 3.918 8.36c.964 2.52 1.362 3.979 2.006 6.65s1.316 6.79 1.709 9.388.393 3.3.574 6.305.254 9.023.17 11.717c-.082 2.694-.265 4.319-.265 4.319s-5.845-4.827-8.521-6.705-5.409-3.542-7.449-4.639-4.659-2.132-4.659-2.132-3.366-.186-6.793 1.074-3.224 1.017-5.538 2.366-5.93 3.905-7.988 6.1c-2.058 2.193-2.906 3.854-4.438 6.654s-3.381 7.25-4.475 10.215-1.617 4.805-2.26 7.472-1.198 5.79-1.544 8.519c-.346 2.727-.504 5.2-.57 7.82-.066 2.618-.1 3.868.178 7.875.278 4.008 1.163 10.569 1.876 16.117s2.292 13.975 2.667 16.457.983 6.508 1.354 8.809c.37 2.301.87 3.266 1.583 4.7.714 1.434 1.941 3.006 2.623 3.841s.535.643 1.266 1.306c.73.664 3.206 2.559 3.206 2.559s4.182-1.874 5.995-2.835c1.814-.962 3.542-2.038 4.896-2.888 1.354-.849 1.621-1.02 3.25-2.165s4.78-3.485 6.465-4.789c1.686-1.304 2.088-1.677 3.69-2.98 1.601-1.304 5.913-4.85 5.913-4.85s.305.768.872 3.658c.568 2.89 1.92 9.633 2.127 13.748a53.4 53.4 0 0 1-.571 10.8c-.461 2.981-1.208 5.272-1.83 7.055s-.934 2.348-1.642 3.69a39 39 0 0 1-2.66 4.31 37 37 0 0 1-3.088 3.705c-1.011 1.066-1.664 1.67-2.925 2.711a47 47 0 0 1-4.695 3.438c-1.862 1.186-3.566 2.23-6.507 3.577s-7.846 3.14-11.23 4.181c-3.382 1.041-6.663 1.71-8.986 2.207s-3.37.712-4.923.9-2.847.36-4.37.265-3.398-.523-4.698-.875c-1.3-.353-2.24-.762-3.107-1.118-.868-.357-2.112-.98-2.112-.98s-3.93-2.132-5.32-2.854-1.901-1.034-3.002-1.508-2.394-1.01-3.601-1.306-2.534-.488-3.594-.481c-1.06.006-1.829.133-2.705.396a9.3 9.3 0 0 0-2.493 1.165c-.865.558-1.426 1.15-2.596 2.228s-2.805 3.06-4.357 4.31-3.782 2.618-4.89 3.177-.572.3-1.512.566-2.677.668-4.17.812c-1.495.144-3.37-.082-5.073-.267a34 34 0 0 1-5.077-.917c-1.97-.497-4.312-1.077-6.42-1.829a54 54 0 0 1-6.2-2.68 34 34 0 0 1-4.297-2.61 41 41 0 0 1-4.158-3.356c-1.236-1.15-2.1-2.045-3.268-3.507s-2.533-3.376-3.62-5.317a41 41 0 0 1-2.837-6.302c-.795-2.24-1.432-4.887-1.884-7.103-.453-2.216-.684-4.045-.89-6.157a72 72 0 0 1-.327-6.5c-.01-2.161.091-4.18.265-6.459.173-2.279.802-7.204.802-7.204s3.957 3.552 6.195 5.127 4.874 3.14 7.208 4.27 4.796 1.997 6.701 2.58c1.905.581 2.828.763 4.65 1.067 1.823.305 3.934.58 6.282.665s5.658-.042 7.775-.258c2.117-.215 4.915-.843 4.915-.843s2.455-2.711 3.573-4.21c1.119-1.5 2.321-3.335 3.116-4.775s1.091-2.086 1.74-3.787c.65-1.7 1.265-4.003 1.985-6.456s1.721-6.082 2.314-8.268c.592-2.186.632-2.217 1.269-4.84s1.724-7.072 2.437-10.923 1.4-8.25 1.798-12.174c.397-3.924.629-7.866.624-11.344-.004-3.477-.2-6.34-.546-9.487a98 98 0 0 0-1.521-9.37c-.594-2.773-1.002-4.419-1.938-7.265-.937-2.847-2.722-7.6-3.832-9.735-1.109-2.137-1.239-2.196-2.19-3.323-.953-1.127-2.147-2.34-3.56-3.324-1.415-.983-3.24-1.91-4.887-2.444-1.648-.535-3.222-.813-4.865-.804s-4.854.853-4.854.853-2.52 2.143-4.144 3.594-4.107 3.832-5.584 5.137a132 132 0 0 1-3.234 2.743s-2.082-1.882-3.166-2.746-2.22-1.783-3.33-2.435c-1.112-.652-1.964-1.118-3.274-1.501s-3.04-.667-4.545-.635-2.424.166-4.364.801c-1.94.636-4.943 2.27-7.028 3.41-2.084 1.139-5.498 3.362-5.498 3.362" transform="translate(-.588 -.588)scale(.08889)"/>
        </svg>`,
    seqera: `<svg width="1em" height="1em" viewBox="0 0 250 250" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
        <path d="M249.96 207.96L249.91 207.11L249.85 206.26L249.76 205.4L249.67 204.55L249.55 203.71L249.41 202.86L249.26 202.03L249.1 201.18L248.9 200.35L248.7 199.53L248.47 198.7L248.22 197.86L247.97 197.06L247.7 196.25L247.4 195.44L247.09 194.65L246.76 193.85L246.41 193.08L246.06 192.29L245.69 191.52L245.29 190.76L244.89 190.01L244.45 189.26L244.01 188.54L243.56 187.81L243.09 187.1L242.6 186.39L242.1 185.7L241.57 185.01L241.05 184.35L240.51 183.69L239.95 183.04L239.37 182.4L238.78 181.78L238.18 181.16L237.57 180.58L236.96 179.98L236.32 179.41L235.67 178.85L235.02 178.31L233.87 179L233.06 179.46L232.23 179.91L231.39 180.34L230.56 180.75L229.71 181.15L228.84 181.53L227.97 181.89L227.1 182.24L226.23 182.56L225.34 182.88L224.44 183.18L223.55 183.45L222.65 183.71L221.74 183.96L220.84 184.18L219.91 184.39L219 184.58L218.08 184.75L217.15 184.9L216.23 185.04L215.3 185.16L214.36 185.26L213.42 185.34L212.49 185.4L211.55 185.45L210.61 185.48L209.67 185.49H152.15L211.81 201.9L212.24 202.03L212.59 202.16L212.94 202.3L213.26 202.46L213.6 202.64L213.91 202.83L214.24 203.03L214.54 203.25L214.83 203.48L215.1 203.73L215.38 203.98L215.64 204.25L215.88 204.52L216.11 204.83L216.33 205.13L216.54 205.44L216.71 205.75L216.89 206.09L217.05 206.43L217.19 206.76L217.33 207.11L217.43 207.48L217.53 207.83L217.6 208.2L217.66 208.56L217.7 208.94L217.73 209.3L217.74 209.68L217.73 210.05L217.7 210.43L217.66 210.79L217.6 211.16L217.53 211.53L217.43 211.89L217.33 212.24L217.19 212.6L217.05 212.94L216.89 213.28L216.71 213.6L216.54 213.93L216.33 214.24L216.11 214.54L215.88 214.83L215.64 215.11L215.38 215.38L215.1 215.64L214.83 215.89L214.54 216.11L214.24 216.33L213.91 216.54L213.6 216.73L213.26 216.9L212.94 217.05L212.59 217.2L212.24 217.33L211.89 217.44L211.52 217.53L211.16 217.61L210.79 217.66L210.42 217.7L210.05 217.74L209.67 217.75H0V250H209.67L210.52 249.99L211.39 249.96L212.25 249.93L213.09 249.85L213.95 249.78L214.8 249.68L215.65 249.55L216.49 249.43L217.33 249.28L218.18 249.1L219 248.9L219.83 248.7L220.66 248.48L221.49 248.24L222.29 247.98L223.1 247.7L223.92 247.4L224.72 247.09L225.5 246.78L226.28 246.43L227.07 246.06L227.83 245.69L228.59 245.3L229.34 244.88L230.08 244.46L230.82 244.01L231.54 243.56L232.26 243.09L232.96 242.6L233.64 242.1L234.33 241.59L235.01 241.05L235.67 240.5L236.32 239.95L236.96 239.38L237.57 238.79L238.18 238.2L238.78 237.59L239.37 236.95L239.95 236.33L240.51 235.68L241.05 235.01L241.57 234.34L242.1 233.66L242.6 232.96L243.09 232.26L243.56 231.55L244.01 230.82L244.45 230.09L244.89 229.34L245.29 228.59L245.69 227.84L246.06 227.06L246.41 226.29L246.76 225.5L247.09 224.71L247.4 223.91L247.7 223.11L247.97 222.3L248.22 221.49L248.47 220.66L248.7 219.84L248.9 219.01L249.1 218.18L249.26 217.34L249.41 216.5L249.55 215.65L249.67 214.8L249.76 213.95L249.85 213.1L249.91 212.24L249.96 211.4L249.99 210.54L250 209.68L249.99 208.83L249.96 207.96Z" />
        <path d="M249.96 135.39L249.91 134.53L249.85 133.68L249.76 132.83L249.67 131.98L249.55 131.13L249.41 130.29L249.26 129.44L249.1 128.6L248.9 127.76L248.7 126.94L248.47 126.11L248.22 125.29L247.97 124.48L247.7 123.66L247.4 122.86L247.09 122.06L246.76 121.28L246.41 120.49L246.06 119.71L245.69 118.95L245.29 118.18L244.89 117.42L244.45 116.69L244.01 115.95L243.56 115.24L243.09 114.51L242.6 113.81L242.1 113.13L241.93 112.9H241.92H152.14L211.81 129.31L212.24 129.45L212.59 129.58L212.94 129.71L213.26 129.88L213.6 130.05L213.91 130.24L214.24 130.44L214.54 130.66L214.83 130.9L215.1 131.14L215.38 131.39L215.64 131.66L215.88 131.94L216.11 132.24L216.33 132.54L216.54 132.85L216.71 133.18L216.89 133.5L217.05 133.84L217.19 134.19L217.33 134.54L217.43 134.89L217.53 135.25L217.6 135.61L217.66 135.99L217.7 136.35L217.73 136.73L217.74 137.1L217.73 137.46L217.7 137.84L217.66 138.21L217.6 138.58L217.53 138.94L217.43 139.3L217.33 139.66L217.19 140L217.05 140.35L216.89 140.7L216.71 141.03L216.54 141.35L216.33 141.65L216.11 141.96L215.88 142.25L215.64 142.53L215.38 142.8L215.1 143.06L214.83 143.3L214.54 143.54L214.24 143.75L213.91 143.95L213.6 144.15L213.26 144.31L212.94 144.48L212.59 144.63L212.24 144.74L211.89 144.86L211.52 144.95L211.16 145.03L210.79 145.09L210.42 145.12L210.05 145.15L209.67 145.16H127.18H16.13H0V177.41H122.81H209.67H210.52L211.39 177.39L212.25 177.34L213.09 177.27L213.95 177.2L214.8 177.1L215.65 176.98L216.49 176.85L217.33 176.69L218.18 176.51L219 176.33L219.83 176.11L220.66 175.9L221.49 175.65L222.29 175.39L223.1 175.11L223.92 174.83L224.72 174.51L225.5 174.19L226.28 173.84L227.07 173.48L227.24 173.39L227.83 173.1L228.59 172.71L229.34 172.3L230.08 171.88L230.82 171.44L231.54 170.98L232.26 170.5L232.96 170.03L233.64 169.51L234.33 169L235.01 168.46L235.67 167.93L236.32 167.36L236.96 166.79L237.57 166.21L238.18 165.61L238.78 165L239.37 164.38L239.95 163.74L240.51 163.09L241.05 162.43L241.57 161.76L242.1 161.08L242.6 160.38L243.09 159.68L243.56 158.96L244.01 158.24L244.45 157.5L244.89 156.76L245.29 156.01L245.69 155.25L246.06 154.47L246.41 153.71L246.76 152.93L247.09 152.14L247.4 151.34L247.7 150.54L247.97 149.73L248.22 148.9L248.47 148.09L248.7 147.26L248.9 146.43L249.1 145.59L249.26 144.75L249.41 143.91L249.55 143.06L249.67 142.21L249.76 141.36L249.85 140.51L249.91 139.66L249.96 138.8L249.99 137.95L250 137.1L249.99 136.24L249.96 135.39Z" />
        <path d="M40.33 72.5801L39.46 72.5901L38.61 72.6101L37.75 72.6601L36.9 72.7301L36.05 72.8001L35.2 72.9001L34.35 73.0301L33.51 73.1501L32.66 73.3101L31.82 73.4901L30.99 73.6701L30.16 73.8901L29.34 74.1001L28.51 74.3501L27.7 74.6101L26.88 74.8901L26.08 75.1801L25.28 75.4901L24.5 75.8101L23.72 76.1601L22.93 76.5301L22.76 76.6101L22.17 76.9001L21.41 77.2901L20.66 77.7001L19.91 78.1201L19.18 78.5601L18.46 79.0201L17.74 79.5001L17.03 79.9801L16.34 80.4901L15.66 81.0001L14.99 81.5401L14.33 82.0801L13.68 82.6401L13.04 83.2101L12.42 83.7901L11.82 84.3901L11.22 85.0001L10.63 85.6301L10.05 86.2601L9.49 86.9101L8.95 87.5601L8.42 88.2401L7.9 88.9301L7.4 89.6301L6.91 90.3301L6.44 91.0401L5.99 91.7601L5.54 92.5001L5.11 93.2401L4.71 93.9901L4.31 94.7501L3.94 95.5101L3.58 96.2901L3.24 97.0801L2.9 97.8601L2.6 98.6601L2.3 99.4601L2.03 100.28L1.76 101.1L1.53 101.91L1.3 102.74L1.09 103.57L0.9 104.41L0.74 105.25L0.58 106.09L0.44 106.94L0.33 107.79L0.23 108.63L0.15 109.48L0.09 110.34L0.04 111.19L0 112.04V112.9V113.76L0.04 114.61L0.09 115.48L0.15 116.33L0.23 117.18L0.33 118.03L0.44 118.88L0.58 119.71L0.74 120.56L0.9 121.4L1.09 122.24L1.3 123.06L1.53 123.89L1.76 124.71L2.03 125.53L2.3 126.34L2.6 127.14L2.9 127.94L3.24 128.73L3.58 129.51L3.94 130.29L4.31 131.05L4.71 131.83L5.11 132.58L5.54 133.31L5.99 134.05L6.44 134.76L6.91 135.49L7.4 136.19L7.9 136.88L8.07 137.1H97.86L38.18 120.68L37.76 120.55L37.41 120.43L37.06 120.29L36.73 120.12L36.4 119.95L36.08 119.76L35.76 119.55L35.46 119.34L35.16 119.1L34.89 118.86L34.61 118.61L34.36 118.34L34.12 118.06L33.89 117.76L33.66 117.46L33.46 117.15L33.27 116.83L33.1 116.5L32.94 116.16L32.8 115.81L32.67 115.46L32.56 115.11L32.47 114.75L32.39 114.39L32.34 114.01L32.29 113.65L32.27 113.28L32.26 112.9L32.27 112.54L32.29 112.16L32.34 111.79L32.39 111.43L32.47 111.05L32.56 110.7L32.67 110.34L32.8 109.99L32.94 109.65L33.1 109.3L33.27 108.97L33.46 108.65L33.66 108.35L33.89 108.04L34.12 107.75L34.36 107.46L34.61 107.2L34.89 106.94L35.16 106.7L35.46 106.46L35.76 106.25L36.08 106.05L36.4 105.85L36.73 105.69L37.06 105.53L37.41 105.37L37.76 105.26L38.11 105.14L38.48 105.05L38.84 104.98L39.2 104.91L39.58 104.88L39.95 104.84H40.33H122.83H233.86H250V72.5801H127.16H40.33Z" />
        <path d="M40.33 0L39.46 0.01L38.61 0.02L37.75 0.08L36.9 0.15L36.05 0.23L35.2 0.33L34.35 0.44L33.51 0.58L32.66 0.73L31.82 0.9L30.99 1.09L30.16 1.3L29.34 1.53L28.51 1.76L27.7 2.03L26.88 2.3L26.08 2.59L25.28 2.91L24.5 3.23L23.72 3.57L22.93 3.94L22.17 4.31L21.41 4.7L20.66 5.11L19.91 5.54L19.18 5.99L18.46 6.44L17.74 6.91L17.03 7.4L16.34 7.9L15.66 8.41L14.99 8.94L14.33 9.49L13.68 10.05L13.04 10.61L12.42 11.21L11.82 11.8L11.22 12.41L10.63 13.04L10.05 13.68L9.49 14.32L8.95 14.99L8.42 15.66L7.9 16.34L7.4 17.04L6.91 17.74L6.44 18.45L5.99 19.18L5.54 19.91L5.11 20.65L4.71 21.4L4.31 22.16L3.94 22.94L3.58 23.71L3.24 24.5L2.9 25.29L2.6 26.08L2.3 26.89L2.03 27.7L1.76 28.51L1.53 29.34L1.3 30.16L1.09 30.99L0.9 31.83L0.74 32.66L0.58 33.5L0.44 34.35L0.33 35.2L0.23 36.05L0.15 36.9L0.09 37.75L0.04 38.6L0 39.46V40.31V41.18L0.04 42.04L0.09 42.89L0.15 43.74L0.23 44.6L0.33 45.45L0.44 46.29L0.58 47.14L0.74 47.98L0.9 48.81L1.09 49.65L1.3 50.47L1.53 51.3L1.76 52.13L2.03 52.94L2.3 53.75L2.6 54.55L2.9 55.35L3.24 56.15L3.58 56.93L3.94 57.71L4.31 58.48L4.71 59.23L5.11 59.99L5.54 60.72L5.99 61.46L6.44 62.19L6.91 62.9L7.4 63.61L7.9 64.3L8.42 64.99L8.95 65.65L9.49 66.31L10.05 66.96L10.63 67.6L11.22 68.23L11.82 68.84L12.42 69.43L13.04 70.01L13.68 70.59L14.33 71.15L14.98 71.69H14.99L16.13 71L16.94 70.54L17.77 70.09L18.61 69.66L19.44 69.25L20.29 68.85L21.16 68.48L22.02 68.1L22.9 67.76L23.77 67.44L24.66 67.11L25.55 66.83L26.45 66.55L27.35 66.29L28.25 66.04L29.16 65.81L30.09 65.61L31 65.43L31.91 65.25L32.84 65.1L33.77 64.96L34.7 64.84L35.64 64.74L36.58 64.66L37.51 64.59L38.44 64.55L39.39 64.53L40.33 64.51H97.85L38.18 48.1L37.76 47.98L37.41 47.84L37.06 47.69L36.73 47.54L36.4 47.36L36.08 47.18L35.76 46.98L35.46 46.75L35.16 46.53L34.89 46.28L34.61 46.02L34.36 45.75L34.12 45.48L33.89 45.18L33.66 44.88L33.46 44.56L33.27 44.24L33.1 43.91L32.94 43.58L32.8 43.24L32.67 42.87L32.56 42.53L32.47 42.18L32.39 41.8L32.34 41.44L32.29 41.06L32.27 40.69L32.26 40.31L32.27 39.94L32.29 39.58L32.34 39.21L32.39 38.84L32.47 38.48L32.56 38.11L32.67 37.75L32.8 37.4L32.94 37.06L33.1 36.73L33.27 36.39L33.46 36.08L33.66 35.76L33.89 35.46L34.12 35.18L34.36 34.89L34.61 34.61L34.89 34.36L35.16 34.11L35.46 33.89L35.76 33.68L36.08 33.46L36.4 33.28L36.73 33.1L37.06 32.94L37.41 32.8L37.76 32.68L38.11 32.56L38.48 32.46L38.84 32.39L39.2 32.33L39.58 32.29L39.95 32.26L40.33 32.25H250V0H40.33Z" />
        </svg>`,
    multiqc: `<svg width="1em" height="1em" viewBox="0 0 251 251" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
        <path d="M46.6601 120.326C49.2801 80.8787 80.9701 49.2709 120.46 46.791V0.724121C55.5001 3.28395 3.28008 55.4004 0.580078 120.326H46.6601Z" />
        <path d="M120.19 204.631C80.7401 202.011 49.1301 170.323 46.6501 130.836H0.580078C3.14008 195.792 55.2601 248.008 120.19 250.708V204.631Z" />
        <path d="M130.969 46.801C170.419 49.4208 202.029 81.1087 204.509 120.596H250.579C248.019 55.6404 195.899 3.42394 130.969 0.724121V46.801Z" />
        <path d="M250.579 204.631C211.129 202.011 179.519 170.323 177.039 130.836H130.969C133.529 195.792 185.649 248.008 250.579 250.708V204.631Z" />
        </svg>`,
    wave: `<svg width="1em" height="1em" viewBox="0 0 49 48" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
        <path d="M9.10377 22.9654C9.60681 15.391 15.6913 9.32184 23.2734 8.84568V0.000244141C10.801 0.491764 0.774809 10.4988 0.256409 22.9654H9.10377Z" />
        <path d="M9.10371 48.0006C9.60675 40.4262 15.6912 34.3571 23.2733 33.881V25.0355C10.801 25.527 0.774748 35.5341 0.256348 48.0006H9.10371Z" />
        <path d="M39.409 0.000488281C38.9059 7.57489 32.8215 13.644 25.2394 14.1202V22.9656C37.7117 22.4741 47.7379 12.467 48.2563 0.000488281L39.409 0.000488281Z" />
        <path d="M39.409 25.0355C38.9059 32.6099 32.8215 38.679 25.2394 39.1552V48.0006C37.7117 47.5091 47.7379 37.5021 48.2563 25.0355H39.409Z" />
        </svg>`,
    docker: `<svg width="1em" height="1em" viewBox="0 0 122.88 88.17" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path d="M121.68,33.34c-0.34-0.28-3.42-2.62-10.03-2.62c-1.71,0-3.48,0.17-5.19,0.46c-1.25-8.72-8.49-12.94-8.78-13.16 l-1.77-1.03l-1.14,1.65c-1.42,2.22-2.51,4.73-3.13,7.29c-1.2,4.96-0.46,9.63,2.05,13.62c-3.02,1.71-7.92,2.11-8.95,2.17l-80.93,0 c-2.11,0-3.82,1.71-3.82,3.82c-0.11,7.07,1.08,14.13,3.53,20.8c2.79,7.29,6.95,12.71,12.31,16.01c6.04,3.7,15.9,5.81,27.01,5.81 c5.01,0,10.03-0.46,14.99-1.37c6.9-1.25,13.51-3.65,19.6-7.12c5.02-2.91,9.52-6.61,13.34-10.94c6.44-7.24,10.26-15.33,13.05-22.51 c0.4,0,0.74,0,1.14,0c7.01,0,11.34-2.79,13.73-5.19c1.6-1.48,2.79-3.31,3.65-5.36l0.51-1.48L121.68,33.34L121.68,33.34z M71.59,39.38h10.83c0.51,0,0.97-0.4,0.97-0.97v-9.69c0-0.51-0.4-0.97-0.97-0.97l0,0l-10.83,0c-0.51,0-0.97,0.4-0.97,0.97l0,0v9.69 C70.68,38.98,71.08,39.38,71.59,39.38L71.59,39.38z M56.49,11.63h10.83c0.51,0,0.97-0.4,0.97-0.97V0.97c0-0.51-0.46-0.97-0.97-0.97 L56.49,0c-0.51,0-0.97,0.4-0.97,0.97l0,0v9.69C55.52,11.17,55.97,11.63,56.49,11.63L56.49,11.63z M56.49,25.53h10.83 c0.51,0,0.97-0.46,0.97-0.97v-9.69c0-0.51-0.46-0.97-0.97-0.97H56.49c-0.51,0-0.97,0.4-0.97,0.97l0,0v9.69 C55.52,25.08,55.97,25.53,56.49,25.53L56.49,25.53z M41.5,25.53h10.83c0.51,0,0.97-0.46,0.97-0.97v-9.69c0-0.51-0.4-0.97-0.97-0.97 l0,0H41.5c-0.51,0-0.97,0.4-0.97,0.97l0,0v9.69C40.53,25.08,40.93,25.53,41.5,25.53L41.5,25.53z M26.28,25.53h10.83 c0.51,0,0.97-0.46,0.97-0.97v-9.69c0-0.51-0.4-0.97-0.97-0.97l0,0H26.28c-0.51,0-0.97,0.4-0.97,0.97v9.69 C25.37,25.08,25.77,25.53,26.28,25.53L26.28,25.53z M56.49,39.38h10.83c0.51,0,0.97-0.4,0.97-0.97v-9.69c0-0.51-0.4-0.97-0.97-0.97 l0,0l-10.83,0c-0.51,0-0.97,0.4-0.97,0.97l0,0v9.69C55.52,38.98,55.97,39.38,56.49,39.38L56.49,39.38L56.49,39.38z M41.5,39.38 h10.83c0.51,0,0.97-0.4,0.97-0.97l0,0v-9.69c0-0.51-0.4-0.97-0.97-0.97l0,0l-10.83,0c-0.51,0-0.97,0.4-0.97,0.97l0,0v9.69 C40.53,38.98,40.93,39.38,41.5,39.38L41.5,39.38L41.5,39.38z M26.28,39.38h10.83c0.51,0,0.97-0.4,0.97-0.97l0,0v-9.69 c0-0.51-0.4-0.97-0.97-0.97l0,0l-10.83,0c-0.51,0-0.97,0.4-0.97,0.97v9.69C25.37,38.98,25.77,39.38,26.28,39.38L26.28,39.38z M11.35,39.38h10.83c0.51,0,0.97-0.4,0.97-0.97l0,0v-9.69c0-0.51-0.4-0.97-0.97-0.97l0,0l-10.83,0c-0.51,0-0.97,0.4-0.97,0.97l0,0 v9.69C10.44,38.98,10.84,39.38,11.35,39.38L11.35,39.38L11.35,39.38z"/>
        </svg>`,
    bioconda: `<svg width="1em" height="1em" viewBox="0 0 187.09 187.09" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
        <path d="M15.52,130a31.78,31.78,0,0,0-1.3,7.17c0,0.1,0,.18,0,0.27L39,123c-1.57-.55-3.25-1-5-1.41l-3.32-.79L16.6,126.91C16.17,128,15.82,129,15.52,130Z"/><path class="cls-1" d="M57.61,41.82a45.1,45.1,0,0,0-6.82-3.05q0.13,1.71.3,3.46c0.24,2.43.6,4.92,0.8,7.69,0,0.67.08,1.36,0.09,2.06a59.84,59.84,0,0,1,9.7-7.91C60.22,43.31,58.92,42.51,57.61,41.82Z"/><path class="cls-1" d="M19.72,113.81c0.36-.48.71-1,1.07-1.43,0.91-1.18,1.86-2.34,2.81-3.49l-10.75,2c1,0.53,2,1,3,1.44C17.17,112.9,18.46,113.37,19.72,113.81Z"/><path class="cls-1" d="M29.5,120.5L27.32,120c-2-.49-3.95-1-5.93-1.57-0.62.85-1.21,1.68-1.73,2.52a38.22,38.22,0,0,0-2.64,5Z"/><path class="cls-1" d="M16,57a25.4,25.4,0,0,0,1.51,3.9l10.42,4.63,0.38-.1c2.23-.56,4.45-1,6.58-1.52l2.08-.49L15,49.77A21,21,0,0,0,16,57Z"/><path class="cls-1" d="M63,8.5a14.13,14.13,0,0,0-5.19,2.87,16.11,16.11,0,0,0-1.44,1.43l11,27a8.65,8.65,0,0,0,1.31.3q1.7-.81,3.46-1.5L63,8.5h0Z"/><path class="cls-1" d="M27.3,71l-2.67.69c1.29,1.59,2.61,3.14,4,4.67,1.78,2,3.64,3.92,5.45,6.15a22.69,22.69,0,0,1,1.38,1.88,59,59,0,0,1,5.23-16.44c-1.76.52-3.47,0.85-5.13,1.22C32.75,69.72,30,70.29,27.3,71Z"/><path class="cls-1" d="M50.55,28.69c0,1-.06,2.05-0.06,3.14,0,0.11,0,.21,0,0.32,1.63,0.49,3.23,1.07,4.81,1.71l-4.48-8.06C50.71,26.73,50.65,27.7,50.55,28.69Z"/><path class="cls-1" d="M53.93,16.14a24.13,24.13,0,0,0-2.27,6l-0.19.65-0.21.69,6.33,11.4c0.82,0.38,1.63.78,2.42,1.21,1.93,1,3.75,2.1,5.42,2.93L55.25,14.12A19.2,19.2,0,0,0,53.93,16.14Z"/><path class="cls-1" d="M17.91,146.91q2.09,3,4.4,5.78c0.6,0.27,1.22.52,1.85,0.73l22.31-20.8A18.11,18.11,0,0,0,46.3,130a6,6,0,0,0-.58-2l0,0Z"/><path class="cls-1" d="M11.49,110.11l13.13-2.43,0.63-.75,4.57-5.25q0.47-.55.91-1.1L3.23,103.27a24.44,24.44,0,0,0,2.09,2.27A34.53,34.53,0,0,0,11.49,110.11Z"/><path class="cls-1" d="M67.87,146.67c-0.65.16-1.32,0.34-2,.57L54.11,175.67a14.86,14.86,0,0,0,2.75,2.83q2.39,1,4.85,1.91l10.81-31.73C70.94,148.07,69.39,147.41,67.87,146.67Z"/><path class="cls-1" d="M46.41,134.77c0-.37,0-0.73,0-1.1L25,153.69l0.22,0.07a28.76,28.76,0,0,0,5.57,1,35.29,35.29,0,0,0,3.87,0l11-11c0.1-1.37.22-2.76,0.35-4.18S46.33,136.37,46.41,134.77Z"/><path class="cls-1" d="M35.77,154.67a43.87,43.87,0,0,0,5.75-.84c1.44-.3,2.83-0.68,4.19-1.09h0c-0.12-1.33-.22-2.75-0.21-4.2,0-1.21,0-2.45.12-3.71Z"/><path class="cls-1" d="M27.45,35.62L46.4,52.24c0-2.51-.5-5.24-0.8-7.87,0-.14,0-0.28,0-0.43L37.9,35.71A33.58,33.58,0,0,0,27.45,35.62Z"/><path class="cls-1" d="M39.27,119.42c0.54,0.18,1.08.38,1.62,0.6a58.19,58.19,0,0,1-5.64-18c-1.08,1.46-2.22,2.7-3.3,3.92-1.64,1.81-3.21,3.51-4.68,5.21-1.18,1.35-2.28,2.68-3.35,4L26,115.74c3.08,0.86,5.74,1.51,7.87,2.08A37.3,37.3,0,0,1,39.27,119.42Z"/><path class="cls-1" d="M44.88,37.1l-0.7-.19-0.81-.21-0.5-.13-0.07,0-0.29-.06c-0.46-.1-0.93-0.17-1.4-0.26s-0.81-.13-1.22-0.2l5.4,5.81Q45,39.41,44.89,37.1h0Z"/><path class="cls-1" d="M33.27,96.5a7.66,7.66,0,0,0,.43-2.31L1.33,95.34c0,1.88.11,3.75,0.25,5.6,0.3,0.48.61,0.95,0.94,1.4l29-2.84A13.4,13.4,0,0,0,33.27,96.5Z"/><path class="cls-1" d="M52.6,173.33a17.75,17.75,0,0,0,1.16,1.88L65.2,147.46l-0.67.23c-2,.71-4.23,1.7-6.78,2.8l-8.21,13.45c0.07,0.37.13,0.75,0.21,1.12A31.49,31.49,0,0,0,52.6,173.33Z"/><path class="cls-1" d="M40.71,62.26a8.32,8.32,0,0,0,2.52-1.51L17.72,41.82a11.52,11.52,0,0,0-1,1.73,14.68,14.68,0,0,0-1.5,4.82L38.57,63C39.32,62.75,40,62.52,40.71,62.26Z"/><path class="cls-1" d="M80,13.54a28.45,28.45,0,0,0-6.38-4.28l5.51,24.57Q79.69,33,80.27,32c1-1.64,2.08-3.29,3.17-4.94L81.62,15C81.08,14.53,80.54,14,80,13.54Z"/><path class="cls-1" d="M51,151c5.88-2.06,10.8-4.22,15-5.21l0.13,0a59.3,59.3,0,0,1-16.56-13c0,1.45-.16,2.85-0.29,4.21l-0.71,6.27c-0.21,2-.37,4-0.39,5.89,0,0.92,0,1.86.07,2.8Z"/><path class="cls-1" d="M49.41,163.21L57,150.83c-2.53,1.09-5.37,2.28-8.59,3.44,0,0.17,0,.34,0,0.51A82.71,82.71,0,0,0,49.41,163.21Z"/><path class="cls-1" d="M93.42,1.19A93.4,93.4,0,0,0,74.85,3a23.37,23.37,0,0,1,2.39,1.08,35.9,35.9,0,0,1,6.61,4.56A74,74,0,0,1,89.43,14l2.52,2.7,2.56,2.67a1.83,1.83,0,0,1,.17.55,4.63,4.63,0,0,1-.35,2.54,2.38,2.38,0,0,1-.52.66,0.49,0.49,0,0,1-.12.39,121.3,121.3,0,0,0-8,11.58,57.58,57.58,0,0,1,7.71-.53c32.32,0,59,26.94,59,59.26s-26.68,58.75-59,58.75A58.25,58.25,0,0,1,73,148.86l-10.8,31.72a93.32,93.32,0,0,0,31.23,5.33A92.36,92.36,0,1,0,93.42,1.19Z"/><path class="cls-1" d="M49,169.9a57.39,57.39,0,0,1-2.93-13.25c-0.07-.5-0.12-1-0.17-1.53-0.75.25-1.51,0.5-2.3,0.74a39.7,39.7,0,0,1-16.46,1.36l-1-.18a91.22,91.22,0,0,0,26.71,19.64A24.44,24.44,0,0,1,49,169.9Z"/><path class="cls-1" d="M87.63,21.17L87.46,21,85,18.34c-0.53-.55-1.07-1.08-1.6-1.61l1.28,8.53Q86.1,23.18,87.63,21.17Z"/><path class="cls-1" d="M28.54,29.64a35.55,35.55,0,0,1,5.1-.19,64.12,64.12,0,0,1,8.67,1l1,0.16,0.66,0.12,0.17,0,0.32,0,0.23,0,0-1.51c0-.77.06-1.53,0.12-2.28s0.08-1.47.2-2.18L45.23,23l0-.19,0-.34L45.36,22l0.07-.45a29.53,29.53,0,0,1,3.41-8.92A91.63,91.63,0,0,0,26.48,30C27.17,29.82,27.86,29.71,28.54,29.64Z"/><path class="cls-1" d="M71.92,8.57a13.27,13.27,0,0,0-3-.67,14.72,14.72,0,0,0-4.46.24l9.11,29.95c1.07-.39,2.15-0.75,3.25-1.08,0.4-.46.79-1,1.17-1.49Z"/><path class="cls-1" d="M25,79.59c-1.2-1.3-2.39-2.61-3.53-4-0.68-.8-1.34-1.6-2-2.41l-0.15,0A36.74,36.74,0,0,0,11.59,77Z"/><path class="cls-1" d="M5.86,81.49a28.33,28.33,0,0,0-2.4,2.72l28.36,3.3a18.21,18.21,0,0,0-1.26-1.79c-1.33-1.63-2.9-3.24-4.44-4.88L10.38,77.74A32.77,32.77,0,0,0,5.86,81.49Z"/><path class="cls-1" d="M21.29,67.33l0.21-.07c1.48-.45,3-0.86,4.43-1.25l-7.57-3.37c0.21,0.39.42,0.78,0.64,1.17A37.22,37.22,0,0,0,21.29,67.33Z"/><path class="cls-1" d="M45.27,127.35c-0.25-.36-0.51-0.72-0.75-1.09a11.37,11.37,0,0,0-4.24-2.8l-0.37-.14L14.18,138.27c0,0.49,0,.95,0,1.34a14.2,14.2,0,0,0,.12,1.66v0.11q1.5,2.51,3.15,4.91Z"/><path class="cls-1" d="M20.7,38.61c-0.4.34-.78,0.71-1.18,1.06l-1,1.15,25.6,19c0.1-.13.2-0.26,0.29-0.4a11.25,11.25,0,0,0,1.87-4.54c0.05-.33.09-0.67,0.11-1L25.95,36A14.28,14.28,0,0,0,20.7,38.61Z"/><path class="cls-1" d="M11.32,131.14a40.55,40.55,0,0,1,5.34-13c0.22-.33.45-0.64,0.67-1-1.28-.45-2.57-0.93-3.83-1.46a40.71,40.71,0,0,1-11-7,91.85,91.85,0,0,0,8.25,26.08A33.46,33.46,0,0,1,11.32,131.14Z"/><path class="cls-1" d="M1.32,94.34l32.34-1.15c0-.27-0.05-0.55-0.07-0.82-0.07-.49-0.17-1-0.26-1.46a11.15,11.15,0,0,0-.9-2.33L2.79,85.13q-0.67.95-1.23,1.93Q1.32,90.4,1.32,93.8C1.32,94,1.32,94.16,1.32,94.34Z"/><path class="cls-1" d="M8.06,73.45a39.93,39.93,0,0,1,6.57-3.69L16.27,69a41.55,41.55,0,0,1-2.83-4.59,35.61,35.61,0,0,1-2.67-6.36,32.72,32.72,0,0,1-.82-3.71A92.68,92.68,0,0,0,2.64,78,36.79,36.79,0,0,1,8.06,73.45Z"/>
    </svg>`,
};

interface IconResult {
    type: "fa" | "svg";
    icon: string;
}

export function getLinkIcon(url: string): IconResult {
    if (/^(https?:\/\/)?(www\.)?(docs\.seqera\.io\/multiqc)\/.+$/gi.test(url)) {
        return { type: "svg", icon: customIcons.multiqc };
    } else if (/^(https?:\/\/)?(www\.)?(docs\.seqera\.io\/wave)\/.+$/gi.test(url)) {
        return { type: "svg", icon: customIcons.wave };
    } else if (/^(https?:\/\/)?(www\.)?([a-zA-Z0-9-]+\.)?(seqera\.io)\/.+$/gi.test(url)) {
        return { type: "svg", icon: customIcons.seqera };
    } else if (/^(https?:\/\/)?(www\.)?([a-zA-Z0-9-]+\.)?(nf-co\.re)\/.+$/gi.test(url)) {
        return { type: "svg", icon: customIcons.nfcore };
    } else if (/^(https?:\/\/)?(www\.)?(nextflow\.io)\/.+$/gi.test(url)) {
        return { type: "svg", icon: customIcons.nextflow };
    } else if (/^(https?:\/\/)?(www\.)?(hub\.docker\.com|docker\.com)\/.+$/gi.test(url)) {
        return { type: "svg", icon: customIcons.docker };
    } else if (/^(https?:\/\/)?(www\.)?(anaconda\.org|bioconda\.github\.io)\/.+$/gi.test(url)) {
        return { type: "svg", icon: customIcons.bioconda };
    } else if (/^(https?:\/\/)?(www\.)?github\.com\/.+$/gi.test(url)) {
        return { type: "fa", icon: "fab fa-github" };
    } else if (/^(https?:\/\/)?(www\.)?linkedin\.com\/.+$/gi.test(url)) {
        return { type: "fa", icon: "fab fa-linkedin" };
    } else if (/^(https?:\/\/)?(www\.)?twitter\.com\/.+$/gi.test(url)) {
        return { type: "fa", icon: "fab fa-twitter" };
    } else if (/^(https?:\/\/)?(www\.)?(docs\.google\.com)\/.+$/gi.test(url)) {
        return { type: "fa", icon: "fab fa-google-drive" };
    } else if (/^(https?:\/\/)?(www\.)?([a-zA-Z0-9-]+\.)?slack\.com\/.+$/gi.test(url)) {
        return { type: "fa", icon: "fab fa-slack" };
    } else if (/^(https?:\/\/)?(www\.)?stackoverflow\.com\/.+$/gi.test(url)) {
        return { type: "fa", icon: "fab fa-stack-overflow" };
    }
    return { type: "fa", icon: "fas fa-link" };
}

export const advisories_types = advisory_types.map((type) => {
    return {
        name: type,
        class: advisory_classes[type],
        icon: advisory_icons[type],
    };
});

export function formatAdvisoryType(type: string): string {
    return type
        .split("_")
        .map((word) => word.charAt(0).toUpperCase() + word.slice(1))
        .join(" ");
}

export function formatAdvisoryCategory(category: string): string {
    return category.charAt(0).toUpperCase() + category.slice(1);
}

export function getAdvisoryCategoryIcon(category: string): string {
    switch (category) {
        case "pipelines":
            return "fa-project-diagram";
        case "modules":
            return "fa-cube";
        case "subworkflows":
            return "fa-sitemap";
        case "configuration":
            return "fa-cogs";
        default:
            return "fa-cogs";
    }
}

interface SoftwareDependency {
    name: string;
    versions?: string[];
}

type DependencyItem = string | SoftwareDependency;

export function formatNextflowVersions(versions: string[]): string {
    return versions.join(", ");
}

export function formatNextflowExecutors(executors: string[]): string {
    return executors.join(", ");
}

export function formatSoftwareDependency(dep: DependencyItem): string {
    if (typeof dep === "string") {
        return dep;
    }
    return `${dep.name}${dep.versions ? ` (${dep.versions.join(", ")})` : ""}`;
}

export function formatSoftwareDependencies(dependencies: DependencyItem[] | string): string {
    if (typeof dependencies === "string") {
        return dependencies;
    }
    return dependencies.map(formatSoftwareDependency).join(", ");
}

export interface AdvisoryMetadata {
    nextflowVersions?: string[] | null;
    nextflowExecutors?: string[] | null;
    softwareDependencies?: DependencyItem[] | string | null;
}

export interface MetadataItem {
    icon: string;
    iconType: "fa" | "svg";
    label: string;
    value: string;
}

export function getAdvisoryMetadataItems(metadata: AdvisoryMetadata): MetadataItem[] {
    const items: MetadataItem[] = [];

    if (metadata.nextflowVersions?.length) {
        items.push({
            icon: customIcons.nextflow,
            iconType: "svg",
            label: "Nextflow",
            value: formatNextflowVersions(metadata.nextflowVersions),
        });
    }

    if (metadata.nextflowExecutors?.length) {
        items.push({
            icon: "fa-server",
            iconType: "fa",
            label: "Executors",
            value: formatNextflowExecutors(metadata.nextflowExecutors),
        });
    }

    if (metadata.softwareDependencies) {
        items.push({
            icon: "fa-object-group",
            iconType: "fa",
            label: "Dependencies",
            value: formatSoftwareDependencies(metadata.softwareDependencies),
        });
    }

    return items;
}
