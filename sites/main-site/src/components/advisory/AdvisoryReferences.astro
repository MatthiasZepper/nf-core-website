---
import { getLinkIcon } from "./advisoryUtils";

interface Reference {
    title: string;
    description: string;
    url: string;
}

interface Props {
    references?: Reference[];
}

const { references } = Astro.props;
---

{
    references?.length > 0 && (
        <div class="mt-5 pt-4 border-top">
            <h2 class="h4 mb-3">References</h2>
            <ul class="list-unstyled mb-0">
                {references.map((ref) => {
                    const icon = getLinkIcon(ref.url);
                    return (
                        <li class="mb-3">
                            <a
                                href={ref.url}
                                target="_blank"
                                rel="noopener noreferrer"
                                class="fw-normal text-decoration-none d-inline-flex align-items-center text-body"
                            >
                                {icon.type === "fa" ? (
                                    <i
                                        class={`${icon.icon} me-2 text-primary`}
                                        style="width: 1.25rem; text-align: center;"
                                    />
                                ) : (
                                    <span
                                        class="me-2 text-primary"
                                        style="width: 1.25rem; text-align: center;"
                                        set:html={icon.icon}
                                    />
                                )}
                                <span class="fw-medium hover-link text-decoration-underline">{ref.title}</span>
                            </a>
                            {ref.description && (
                                <p class="text-body-secondary small mb-0 mt-1 ps-4">{ref.description}</p>
                            )}
                        </li>
                    );
                })}
            </ul>
        </div>
    )
}

<style lang="scss">
    .transition-rotate {
        transition: transform 0.2s ease;
    }

    .hover-link {
        transition: all 0.2s ease;

        &:hover {
            color: var(--bs-primary);
        }
    }
</style>
